%
% Copyright 2014, General Dynamics C4 Systems
%
% This software may be distributed and modified according to the terms of
% the GNU General Public License version 2. Note that NO WARRANTY is provided.
% See "LICENSE_GPLv2.txt" for details.
%
% @TAG(GD_GPL)
%

\apidoc
{untyped_retype}
{Untyped - Retype}
{Retype an untyped object}
{static inline int seL4\_Untyped\_Retype}
{
\param{seL4\_Untyped}{\_service}{CPTR to an untyped object.}
\param{int}{type}{The seL4 object type that we are retyping to.}
\param{int}{size\_bits}{Used to determine the size of variable-sized objects.}
\param{seL4\_CNode}{root}{CPTR to the CNode at the root of the destination CSpace.}
\param{int}{node\_index}{CPTR to the destination CNode. Resolved relative to the root parameter.}
\param{int}{node\_depth}{Number of bits of node\_index to translate when addressing the destination CNode.}
\param{int}{node\_offset}{Number of slots into the node at which capabilities start being placed.}
\param{int}{num\_objects}{Number of capabilities to create.}
}
{\errorenumdesc}
{
Given a capability, \texttt{\_service}, to an untyped object,
creates \texttt{num\_objects} of the requested type. Creates
\texttt{num\_objects} capabilities to the new objects starting
at \texttt{node\_offset} in the CNode specified by \texttt{root},
\texttt{node\_index}, and \texttt{node\_depth}.

For variable-sized
kernel objects, the \texttt{size\_bits} argument is used to
determine the size of objects to create. The relationship between
\texttt{size\_bits} and object size depends on the type of object
being created. See \autoref{sec:object_sizes} for more information
about object sizes.

See \autoref{sec:kernmemalloc} for more information about how untyped
memory is retyped.

See \autoref{sec:caps_to_new_objects} for more information about the
placement of capabilities to created objects.
}
\label{sec:api-untyped-retype}
